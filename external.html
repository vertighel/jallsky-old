<!DOCTYPE html>
<html lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="Davide Ricci">
    <link rel="icon" href="../../favicon.ico">
    <!-- <base target="_blank"> -->
    <title>ORSA AllSky</title>

    <!-- Bootstrap core CSS -->
    <link href="../bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <!-- <link href="jumbotron.css" rel="stylesheet"> -->
    
    <script src="../../js/jquery-latest.min.js"></script>
    <script src="./node_modules/d3/build/d3.min.js"></script>

    <style>
    
    /* #histogram ul{ */
    /* height:300px; */
    /* border:0.1em solid red       */
    /* } */

    <!-- var#minist{ -->
    <!-- border-top:0.1em solid black -->
    <!-- } -->
    <!-- var#maxist{ -->
    <!-- border-bottom:0.1em solid black -->
    <!-- } -->

    figure{
//    height:200px;
    padding:0;
      margin:0;
    }
    
    #histogram ul{
      padding:0;
      margin:0;
    }

    #histogram li{
    margin-top:200px;
    background-color:#0275d8; /*steelblue*/
    display:inline-block;
    width:5px;
    padding:0;
    margin:0;
    }

    
    </style>
    
    <body>
      
      <nav class="navbar navbar-static-top navbar-dark bg-inverse">
	<a class="navbar-brand" href="#">ORSA AllSky Camera 340</a>	
      </nav>
      
    <div class="container">

      <div class="row">

	<section class="col-md-6" id="image">
	  <h2 style="display:inline;">dummy</h2> &nbsp;
	  <h4 style="display:inline; color:gray;">dummy</h4>
	  <figure class="figure">
	    <img class="figure-img img-fluid">
	  </figure>
	  <figcaption class="figure-caption text-center">
	    <span></span>
	  </figcaption>	  
	</section>	
        <section class="col-md-6" id="histogram">
	  <h2 style="display:inline">Histogram</h2> &nbsp; &nbsp;
	  <h4 style="display:inline; color:gray">max: <var id="maxist"></var>, min: <var id="minist"></var></h4>
	  <figure class="text-center svg-container">
	  </figure>
	  <figcaption class="figure-caption">
	    start: <var id="mincuts"></var>, step: <var id="maxcuts"></var>.
	  
	  </figcaption> 

	  <div>
	    <label for="log">Lin/Log</label> <input
	    type="checkbox" class="form-checkbox" id="log" >

	  </div>
	
	  <div class="text-md-center">Exposure
	    <output for="exposure_progress" id="exposure_output">0</output>%
	  </div>
	  <progress id="exposure_progress" aria-describedby="exposure_output" class="progress" value="0" max="100" ></progress>

	  <div class="text-md-center">Transfer
	    <output for="transfer_progress" id="transfer_output">0</output>%
	  </div>
	  <progress id="transfer_progress"  aria-describedby="transfer_output" class="progress" value="0" max="100"></progress>



	</section>


      </div> <!-- row -->
      
      <div class="row">
	
	
	<aside class="col-md-6">
	  <h2 style="display:inline">Video</h2> &nbsp; &nbsp;
	  <h4 style="display:inline; color:gray">last 25 images</h4>
	  <video class="img-fluid" controls preload loop >	     
	    <source src="./mnt/output.webm" type='video/webm; codecs="vp8, vorbis"'>
	      <!-- <source src="./mnt/output.mp4"> -->
	  </video>
	  <script>
	    var v = document.getElementsByTagName("video");
	        v.onclick = function() {
		    if (v.paused) {
			v.play();
		    } else {
			v.pause();
		    }
		};
	  </script>
	</aside>

	
        <div class="col-md-6">
          <h2>Test software</h2>
          <p>This software is developed with <code>node.js</code> and
	      uses a <code>websocket</code> to push the image directly
	      into the page without polling, reloading, or AJAX
	      requests.

	    <ul>
	      <li><a class="png">latest png</a></li>
	      <li><a class="fits">latest fits</a></li>
	    </ul>

	    <ul>
	      <li><a href="./mnt/fits/">list of fits files</a></li>	
	      <li><a href="./mnt/png/">list of png images</a></li>	
	    </ul>
        </div>

	
	
	
	<pre class="col-md-64">
<code>
</code>
	</pre>
      </div>

      
      <hr>

      <footer>
        <p>Davide Ricci <3 ORSA Team</p>
      </footer>


    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script> -->
    <!-- <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script> -->
    <!-- <script src="../../dist/js/bootstrap.min.js"></script> -->
    <!-- <\!-- IE10 viewport hack for Surface/desktop Windows 8 bug -\-> -->
    <!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->

  <script src="./client.js"></script>
